{"version":3,"sources":["entities/candy.enum.ts","entities/coin.enum.ts","utils/index.ts","contexts/work-manager.context.tsx","components/Coin/index.tsx","components/Stats/index.tsx","components/Container/index.tsx","components/Candy/index.tsx","assets/cat-sad.svg","assets/cat.svg","assets/cat-happy.svg","components/SideContainer/index.tsx","App.tsx","index.tsx"],"names":["CandyType","CoinType","CoinsLabel","ONE","TWO","FIVE","CoinsValue","CandiesLabel","CandyA","CandyB","CandyC","CandiesPrice","WorkManagerContext","createContext","WorkManagerProvider","children","useState","amount","setAmount","discount","setDiscount","isDiscountVisible","setIsDiscountVisible","isBuying","setIsBuying","selectedCandy","setSelectedCandy","useEffect","document","getElementById","classList","remove","add","setTimeout","undefined","Provider","value","addCoin","coin","buyCandy","candy","Coin","onPress","label","isActive","className","id","disabled","onClick","Stats","useContext","Container","Candy","price","isEnabled","type","SideContainer","src","CatSad","Cat","CatHappy","alt","width","App","handleAddCoin","handleBuyCandy","Object","keys","map","candyPrice","candyType","coinType","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.acd2d2ac.chunk.js","sourcesContent":["export enum CandyType {\n  CandyA = 'CandyA', \n  CandyB = 'CandyB', \n  CandyC = 'CandyC', \n}","export enum CoinType {\n  ONE = 'ONE',\n  TWO = 'TWO',\n  FIVE = 'FIVE',\n}\n","import { CandyType } from \"../entities/candy.enum\";\nimport { CoinType } from \"../entities/coin.enum\";\n\nexport const CoinsLabel: Record<CoinType, string> = {\n  [CoinType.ONE]: \"CC1\",\n  [CoinType.TWO]: \"CC2\",\n  [CoinType.FIVE]: \"CC5\",\n};\n\nexport const CoinsValue: Record<CoinType, number> = {\n  [CoinType.ONE]: 1,\n  [CoinType.TWO]: 2,\n  [CoinType.FIVE]: 5,\n};\n\nexport const CandiesLabel: Record<CandyType, string> = {\n  [CandyType.CandyA]: \"A\",\n  [CandyType.CandyB]: \"B\",\n  [CandyType.CandyC]: \"C\",\n};\n\nexport const CandiesPrice: Record<CandyType, number> = {\n  [CandyType.CandyA]: 6,\n  [CandyType.CandyB]: 7,\n  [CandyType.CandyC]: 8,\n};\n","import React, {\n  createContext,\n  useEffect,\n  useState,\n} from \"react\";\nimport { CandyType } from \"../entities/candy.enum\";\nimport { CoinType } from \"../entities/coin.enum\";\nimport { CandiesPrice, CoinsValue } from \"../utils\";\n\ninterface WorkManagerContextProps {\n  amount: number;\n  discount: number;\n  isDiscountVisible: boolean;\n  isBuying: boolean;\n  selectedCandy?: CandyType;\n  addCoin(coin: CoinType): void;\n  buyCandy(candy: CandyType): void;\n}\n\nexport const WorkManagerContext = createContext<WorkManagerContextProps>(\n  {} as WorkManagerContextProps\n);\n\nexport const WorkManagerProvider = ({\n  children,\n}: {\n  children: JSX.Element;\n}): JSX.Element => {\n  const [amount, setAmount] = useState(0);\n  const [discount, setDiscount] = useState(0);\n\n  const [isDiscountVisible, setIsDiscountVisible] = useState(false);\n  const [isBuying, setIsBuying] = useState(false);\n  const [selectedCandy, setSelectedCandy] = useState<CandyType>();\n\n  const addCoin = (coin: CoinType) => {\n    const totalAmount = amount + CoinsValue[coin];\n\n    setAmount(totalAmount);\n  };\n\n  const buyCandy = (candy: CandyType) => {\n    setSelectedCandy(candy);\n    setIsBuying(true);\n\n    const totalAmount = amount - CandiesPrice[candy];\n\n    setDiscount(totalAmount);\n    setIsDiscountVisible(true);\n    setAmount(0);\n  };\n\n\n  useEffect(() => {\n    if(selectedCandy) {\n      document.getElementById(`candy-${selectedCandy}`)?.classList.remove('animate__fadeIn');\n      document.getElementById(`candy-${selectedCandy}`)?.classList.add('animate__fadeOutDown');\n    }\n\n  }, [selectedCandy])\n\n  useEffect(() => {\n    if (!isDiscountVisible) {\n      return;\n    }\n\n    setTimeout(() => {\n      setIsDiscountVisible(false);\n      setIsBuying(false);\n      document.getElementById(`candy-${selectedCandy}`)?.classList.remove('animate__fadeOutDown');\n      document.getElementById(`candy-${selectedCandy}`)?.classList.add('animate__fadeIn');\n      setSelectedCandy(undefined);\n    }, 3000);\n  }, [isDiscountVisible, selectedCandy]);\n\n  return (\n    <WorkManagerContext.Provider\n      value={{\n        addCoin,\n        amount,\n        buyCandy,\n        selectedCandy,\n        discount,\n        isDiscountVisible,\n        isBuying,\n      }}\n    >\n      {children}\n    </WorkManagerContext.Provider>\n  );\n};\n","import React from \"react\";\nimport { CoinType } from \"../../entities/coin.enum\";\n\nimport \"./style.css\";\n\ninterface CoinProps {\n  onPress: (value: CoinType) => void;\n  value: number;\n  label: string;\n  coin: CoinType;\n  isActive: boolean;\n}\n\nconst Coin = ({ onPress, value, label, coin, isActive }: CoinProps): JSX.Element => (\n  <button className=\"coin\" id={`coin-${coin}`} disabled={!isActive} onClick={() => onPress(coin)}>\n    {label}\n  </button>\n);\n\nexport default Coin;\n","import React, { useContext } from \"react\";\nimport { WorkManagerContext } from \"../../contexts/work-manager.context\";\n\nimport \"./style.css\";\n\nexport const Stats = (): JSX.Element => {\n  const { amount, discount, isDiscountVisible } =\n    useContext(WorkManagerContext);\n\n  return (\n    <>\n      <div className=\"stats\">\n        <div className=\"stats-amount\">\n          <span>Seu dinheiro:</span> {amount} CAT COINS\n        </div>\n\n        {isDiscountVisible && (\n          <div className=\"stats-discount\">\n            <span>Seu troco:</span> {discount} CAT COINS\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default Stats;\n","import React from \"react\";\n\nimport \"./style.css\";\n\ninterface ContainerProps {\n  children: JSX.Element;\n}\n\nexport const Container = ({ children }: ContainerProps): JSX.Element => {\n  return <div className=\"container\">{children}</div>;\n};\n\nexport default Container;","import React from \"react\";\n\nimport { CandyType } from \"../../entities/candy.enum\";\n\nimport \"./style.css\";\n\ninterface CandyProps {\n  onPress: (candy: CandyType) => void;\n  label: string;\n  price: number;\n  isEnabled: boolean;\n  type: CandyType;\n}\n\nconst Candy = ({\n  onPress,\n  label,\n  price,\n  isEnabled,\n  type,\n}: CandyProps): JSX.Element => {\n  return (\n    <button\n      id={`candy-${type}`}\n      className=\"candy animate__animated animate__fadeIn\"\n      disabled={!isEnabled}\n      onClick={() => onPress(type)}\n    >\n      {price}CC\n    </button>\n  );\n};\n\nexport default Candy;\n","export default __webpack_public_path__ + \"static/media/cat-sad.8b84d25a.svg\";","export default __webpack_public_path__ + \"static/media/cat.837b022f.svg\";","export default __webpack_public_path__ + \"static/media/cat-happy.4f7002c1.svg\";","import React, { useContext } from \"react\";\nimport { WorkManagerContext } from \"../../contexts/work-manager.context\";\n\nimport CatSad from \"../../assets/cat-sad.svg\";\nimport Cat from \"../../assets/cat.svg\";\nimport CatHappy from \"../../assets/cat-happy.svg\";\n\nimport \"./style.css\";\n\ninterface SideContainerProps {\n  children: JSX.Element;\n}\n\nexport const SideContainer = ({\n  children,\n}: SideContainerProps): JSX.Element => {\n  const { amount } = useContext(WorkManagerContext);\n\n  const getCatToRender = () => {\n    if (amount <= 5) {\n      return CatSad;\n    }\n\n    if (amount <= 7) {\n      return Cat;\n    }\n\n    return CatHappy;\n  };\n\n  return (\n    <div className=\"side-container\">\n      {children}\n      <div className=\"side-cat\">\n        <img src={getCatToRender()} alt=\"Cat\" width=\"100%\" />\n      </div>\n    </div>\n  );\n};\n\nexport default SideContainer;\n","import React, { useContext } from \"react\";\nimport \"./App.css\";\nimport { WorkManagerContext } from \"./contexts/work-manager.context\";\n\n// Components\nimport Coin from \"./components/Coin\";\nimport Stats from \"./components/Stats\";\nimport Container from \"./components/Container\";\nimport Candy from \"./components/Candy\";\nimport { CoinType } from \"./entities/coin.enum\";\nimport { CandiesLabel, CandiesPrice, CoinsLabel, CoinsValue } from \"./utils\";\nimport { CandyType } from \"./entities/candy.enum\";\nimport SideContainer from \"./components/SideContainer\";\n\nfunction App() {\n  const { addCoin, buyCandy, amount, isDiscountVisible } = useContext(WorkManagerContext);\n\n  const handleAddCoin = (coin: CoinType) => {\n    addCoin(coin);\n  };\n\n  const handleBuyCandy = (candy: CandyType) => {\n    buyCandy(candy);\n  };\n\n  const renderCoins = (): JSX.Element[] => {\n    return Object.keys(CoinType).map((coin: string) => {\n      const coinType = coin as CoinType;\n\n      return (\n        <Coin\n          key={coin}\n          isActive={!isDiscountVisible}\n          coin={coinType}\n          onPress={handleAddCoin}\n          value={CoinsValue[coinType]}\n          label={CoinsLabel[coinType]}\n        />\n      );\n    });\n  };\n\n  const canBuyCandy = (candyPrice: number): boolean => {\n    return amount >= candyPrice;\n  };\n\n  const renderCandies = (): JSX.Element[] => {\n    return Object.keys(CandyType).map((candy: string) => {\n      const candyType = candy as CandyType;\n\n      const price = CandiesPrice[candyType];\n\n      return (\n        <Candy\n          key={candy}\n          onPress={handleBuyCandy}\n          price={price}\n          type={candyType}\n          label={CandiesLabel[candyType]}\n          isEnabled={canBuyCandy(price)}\n        />\n      );\n    });\n  };\n\n  return (\n    <div className=\"container-outer\">\n      <Container>\n        <>\n          <div className=\"container-title\">CatCoinMachine</div>\n          <div className=\"candies-container\">{renderCandies()}</div>\n          <div className=\"buttons-container\">{renderCoins()}</div>\n        </>\n      </Container>\n      <SideContainer>\n        <>\n          <div className=\"stats-container\">\n            <Stats />\n          </div>\n        </>\n      </SideContainer>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { WorkManagerProvider } from \"./contexts/work-manager.context\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <WorkManagerProvider>\n      <App />\n    </WorkManagerProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}